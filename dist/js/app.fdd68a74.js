(function(t){function e(e){for(var n,o,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)o=s[d],r[o]&&f.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},1:function(t,e){},"1aa8":function(t,e){},"1d17":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=a("2b0e"),r=a("8aa5"),i=a.n(r),o=a("ce5b"),s=a.n(o);a("bf40");n["default"].use(s.a,{theme:{primary:"#e2e2e2",primaryDark:"#cccccc",secondary:"#424242",accent:"#d42017",error:"#FF4F65",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"fa"});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-alert",{staticStyle:{"margin-top":"0px","margin-bottom":"0px","padding-right":"2rem"},attrs:{color:"error",light:"",dismissible:""},model:{value:t.$cameraAlert.active,callback:function(e){t.$set(t.$cameraAlert,"active",e)},expression:"$cameraAlert.active"}},[a("p",{staticClass:"text-xs-center mb-0 headline",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.$router.push({name:"cam_details",params:{id:t.$cameraAlert.alertData.cameraId}})}}},[t._v(t._s(t.formatAlertText))])]),a("v-app",{attrs:{id:"inspire"}},[t.$auth.status.loggedIn?a("v-toolbar",{attrs:{app:"",absolute:""}},[a("v-toolbar-items",{staticStyle:{position:"relative","margin-right":"60px"}},[a("v-img",{staticStyle:{width:"60px",height:"50px",position:"absolute",bottom:"-1px",left:"0px"},attrs:{contain:"",src:"/assets/images/wiley_demo_header_icon.png"},on:{click:function(e){return t.$router.push("/")}}})],1),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/",flat:""}},[t._v("Home")]):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/overview",flat:""}},[t._v("Feed")]):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{flat:""}},[t._v("History")]):t._e()],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{color:"accent"},on:{click:function(e){return t.simulateAlert()}}},[t._v("Simulate alert")]):t._e()],1),a("v-toolbar-items",[t.$auth.status.loggedIn?a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{flat:""}},n),[t._v("\n                            "+t._s(t.$auth.user.email)+"\n                            "),a("v-icon",{staticClass:"pl-1"},[t._v("fas fa-caret-down")])],1)]}}],null,!1,1816198400)},[a("v-list",t._l(3,function(e){return a("v-list-tile",{key:e,on:{click:function(){return null}}},[a("v-list-tile-title",[t._v(t._s(e))])],1)}),1)],1):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{flat:""},on:{click:function(e){return t.logout()}}},[t._v("Logout")]):t._e()],1)],1):t._e(),a("v-content",{attrs:{app:""}},[a("v-container",{attrs:{fluid:"","fill-height":"",primary:"","pa-0":""}},[a("router-view")],1)],1),a("notifications",{attrs:{max:1,position:"bottom right",duration:4e3,group:"app-notifications"},scopedSlots:t._u([{key:"body",fn:function(e){return a("div",{},[a("v-alert",{staticStyle:{"border-radius":"10px","margin-right":"5%","margin-bottom":"5%"},attrs:{color:e.item.type,dismissible:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n                    "+t._s(e.item.text)+"\n                ")])],1)}}])})],1)],1)},c=[],u=a("a34a"),d=a.n(u);function f(t){Object.assign(this,f.template,t)}Object.defineProperty(f,"template",{get:function(){return{id:"",status:"",type:"",detectedObject:"",probability:"",startTime:"",endTime:"",duration:"",cameraId:null,camNumber:null,camName:"",name:"",sourceData:{src:"",type:""}}}});var v=f;function m(t,e,a,n,r,i,o){try{var s=t[i](o),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(n,r)}function p(t){return function(){var e=this,a=arguments;return new Promise(function(n,r){var i=t.apply(e,a);function o(t){m(i,n,r,o,s,"next",t)}function s(t){m(i,n,r,o,s,"throw",t)}o(void 0)})}}var h={name:"App",props:{},data:function(){return{alert:!0}},computed:{formatAlertText:function(){var t=this.$cameraAlert.alertData;return"1 ".concat(t.detectedObject," identified in ").concat(t.camName)}},methods:{logout:function(){var t=p(d.a.mark(function t(){return d.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$auth.logout();case 2:this.$router.replace("/sign_in");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),simulateAlert:function(){var t=new v({id:"01",type:"motion",detectedObject:"coyote",probability:"95%",startTime:Date.now(),endTime:function(){var t=new Date;return t.setMinutes(t.getMinutes()+1),new Date(t)}(),duration:60,cameraId:100,camNumber:1,camName:"Rail-EAST",status:"active",sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_raileast.jpg"});this.$cameraAlert.createAlert(t)}}},y=h,g=(a("034f"),a("2877")),b=a("a4f9"),_=a.n(b),w=Object(g["a"])(y,l,c,!1,null,null,null);"function"===typeof _.a&&_()(w);var x=w.exports,k=a("8c4f"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"test-ref"},[a("V-flex",{attrs:{xs3:""}},[a("video--controls")],1),t.working?t._e():a("v-flex",{attrs:{xs9:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.parseTime))]),a("v-layout",{attrs:{"justify-end":""}},[a("v-icon",[t._v("fas fa-flag")]),a("v-btn",{attrs:{flat:""}},[t._v("Flag for further review")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","align-start":"","justify-center":""}},[a("v-flex",{staticClass:"video-feed-wrapper",attrs:{xs10:""}},[a("video-player",{attrs:{options:t.getVideoOptions}}),a("v-layout",{staticClass:"controls",attrs:{"align-start":"","justify-end":""}},[a("div",{staticStyle:{display:"flex","align-items":"center",padding:"10px"},style:"background-color:rgba(222,222,222,0.3)"},[a("div",{staticClass:"live-icon"}),a("p",{staticClass:"pl-2 mb-0 test-ref primary--text"},[t._v("\n                            Live Feed\n                        ")])])])],1),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("h3",{staticClass:"py-3"},[t._v(t._s(t.formatProbabilityText))])])],1),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{staticClass:"error btn",attrs:{large:""},on:{click:function(e){return t.falseAlarm()}}},[t._v("\n                        False Alarm \n                    ")]),a("v-btn",{staticClass:"success btn",attrs:{large:""},on:{click:function(e){return t.confirmObject()}}},[t._v("\n                        Confirm Object\n                    ")])],1)],1)],1)],1)],1)},O=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticStyle:{height:"100%","background-color":"#FFF"},attrs:{column:"","justify-space-between":""}},[a("v-list",[a("v-subheader",{on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("fas fa-arrow-left")]),t._v(" Back")],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-content",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-icon",[t._v("fas fa-bookmark")]),a("v-list-tile-title",[t._v("  # 231")])],1)],1)],1),a("detections-list"),a("employees-list"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-content",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-list-tile-title",[t._v("Leave Feedback")])],1)],1)],1)],1)},j=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-subheader",[t._v("Workers Onsite")]),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Larry")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Moe")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Curly")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Shemp")])],1)],1)],1)},S=[],T={},E=Object(g["a"])(T,A,S,!1,null,null,null),C=E.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-subheader",[t._v("Object Detected")]),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Coyote")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Traincar")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Worker")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Obstruction")])],1)],1)],1)],1)},P=[],F={},R=Object(g["a"])(F,D,P,!1,null,null,null),q=R.exports,M={components:{"employees-list":C,"detections-list":q},props:{captures:{type:Array,required:!1,default:function(){return[]}}}},N=M,V=Object(g["a"])(N,$,j,!1,null,null,null),L=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("video",{ref:"videoPlayer",staticClass:"video-js"})},H=[],z=a("f0e2"),Y={name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null}},mounted:function(){this.options&&(this.player=Object(z["a"])(this.$refs.videoPlayer,this.options,function(){console.log("onPlayerReady",this)}))},beforeDestroy:function(){this.player&&this.player.dispose()}},B=Y,U=(a("bdb9"),Object(g["a"])(B,W,H,!1,null,null,null)),J=U.exports,Q=a("70f2"),K=a.n(Q),G=a("b429"),X=a("5118"),Z={components:{"video--controls":L,"video-player":J},data:function(){return{stream:{},videoOptions:{autoplay:!0,controls:!0,responsive:!0,aspectRatio:"16:9",fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]},working:!0}},mounted:function(){var t=this;this.stream=G.find(function(e){return e.id==t.$route.params.id}),this.setVideoOptions(),Object(X["setTimeout"])(function(){t.working=!1},200)},methods:{setVideoOptions:function(){this.videoOptions.sources=[this.stream.sourceData]},falseAlarm:function(){this.$cameraAlert.clearAlert(),this.$router.replace("/overview")},confirmObject:function(){this.$eventHistory.createEvent(this.$cameraAlert.alertData)}},computed:{parseTime:function(){return K()(new Date,"MM/DD/YYYY   hh:mm:ss")},getVideoOptions:function(){return this.videoOptions},formatProbabilityText:function(){return"Wiley is ".concat(this.$cameraAlert.alertData.probability," sure this is a ").concat(this.$cameraAlert.alertData.detectedObject,". Please confirm.")}}},tt=Z,et=(a("ef42"),a("63bd")),at=a.n(et),nt=Object(g["a"])(tt,I,O,!1,null,"052bfe05",null);"function"===typeof at.a&&at()(nt);var rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-start":""}},t._l(t.streams,function(e){return a("v-flex",{key:e.id,attrs:{xs6:""}},[a("v-card",[a("v-card-title",{style:"background-color:"+t.$vuetify.theme.primary},[a("span",{staticClass:"title mx-auto"},[t._v(t._s(e.camName))])]),a("video-live-feed",{attrs:{stream:e}}),a("video-history",{attrs:{stream:e,events:t.parseEvents(e)}})],1)],1)}),1)],1)},ot=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-hover",[a("v-flex",{staticClass:"video-feed-wrapper pa-0"},[a("dummy-camera-image",{attrs:{source:t.stream.staticImage}})],1)],1)},lt=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-img",{attrs:{src:t.getPath()}})},ut=[],dt={props:{source:{type:String,required:!0}},methods:{getPath:function(){return this.source}}},ft=dt,vt=Object(g["a"])(ft,ct,ut,!1,null,null,null),mt=vt.exports,pt={components:{"dummy-camera-image":mt},props:{stream:{type:Object,required:!0}},data:function(){return{cameras:{},cameraData:{},video:null,canvas:null,videoOptions:{autoplay:!0,controls:!1,responsive:!0,aspectRatio:"16:9",fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]}}},beforeDestroy:function(){this.video=null},methods:{getVideoOptions:function(){return this.videoOptions.sources=[this.stream.sourceData],this.videoOptions}}},ht=pt,yt=(a("aac7"),a("7e19")),gt=a.n(yt),bt=Object(g["a"])(ht,st,lt,!1,null,"34005685",null);"function"===typeof gt.a&&gt()(bt);var _t=bt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{style:"background-color:"+t.$vuetify.theme.primary,attrs:{flat:""}},[a("v-btn",{attrs:{fab:"",small:"",color:"error"},on:{click:function(e){t.dialog=!t.dialog}}},[a("span",{staticStyle:{"font-size":"1.4rem"}},[t._v("11")])]),a("span",{staticClass:"title"},[t._v("Alerts")]),a("v-spacer"),a("v-btn",{staticClass:"ml-auto",attrs:{small:"",outline:""},on:{click:function(e){return t.editItem(t.props.item)}}},[t._v("\n            View Details\n        ")])],1),a("v-list",{style:"background-color:"+t.$vuetify.theme.primary},[t._l(t.items,function(e,n){return[a("v-list-tile",{key:e.title,attrs:{ripple:""}},[a("v-list-tile-action",[a("p",{staticClass:"mb-0 title",style:"color:"+(e.count?t.$vuetify.theme.error:"black")},[t._v("\n                    "+t._s(e.count)+"\n                ")])]),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1),n+1<t.items.length?a("v-divider",{key:n}):t._e()]})],2)],1)},xt=[],kt={props:{stream:{type:Object,required:!0},events:{type:Array,required:!0}},data:function(){return{selected:[2],items:[{action:"15 min",title:"Person",count:7},{action:"2 hr",title:"Coyote",count:0},{action:"6 hr",title:"Rail Car(Loading)",count:3},{action:"12 hr",title:"Rail Car(Moving)",count:1},{action:"18hr",title:"Operations/Maintenance Inspection",count:0}],timer:null}},methods:{close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)}}},It=kt,Ot=Object(g["a"])(It,wt,xt,!1,null,null,null),$t=Ot.exports,jt={components:{"video-live-feed":_t,"video-history":$t},data:function(){return{captures:[],streams:G,events:[{camId:100,id:"01",startTime:159,endTime:6,duration:24,status:"active"},{camId:200,id:"02",startTime:237,endTime:9,duration:37,status:"closed"},{camId:100,id:"03",startTime:262,endTime:16,duration:23,status:"closed"},{camId:200,id:"04",startTime:305,endTime:3.7,duration:67,status:"closed"},{camId:100,id:"05",startTime:356,endTime:16,duration:49,status:"closed"},{camId:200,id:"06",startTime:375,endTime:0,duration:94,status:"pending"},{camId:100,id:"07",startTime:392,endTime:.2,duration:98,status:"active"},{camId:200,id:"08",startTime:408,endTime:3.2,duration:87,status:"pending"},{camId:100,id:"09",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"10",startTime:518,endTime:26,duration:65,status:"closed"},{camId:100,id:"11",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"12",startTime:518,endTime:26,duration:65,status:"closed"},{camId:100,id:"13",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"14",startTime:518,endTime:26,duration:65,status:"closed"}]}},methods:{parseEvents:function(t){return this.events.filter(function(e){return e.camId==t.id})}}},At=jt,St=a("1aa8"),Tt=a.n(St),Et=Object(g["a"])(At,it,ot,!1,null,null,null);"function"===typeof Tt.a&&Tt()(Et);var Ct=Et.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":"","pa-0":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticStyle:{height:"100%"},style:"background-color:"+t.$vuetify.theme.primary,attrs:{xs1:""}}),a("v-flex",{staticStyle:{"background-color":"#FFFFFF",height:"100%"},attrs:{xs4:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-img",{attrs:{"max-width":"80%",src:"/assets/images/wiley_demo_logo.png"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm7:"","px-5":""}},[a("v-layout",{class:t.$vuetify.breakpoint.smAndUp?"justify-start":"justify-center"},[a("v-flex",{attrs:{sm12:"",md7:""}},[a("v-card",{attrs:{flat:"",color:"primary"}},[a("v-toolbar",{attrs:{flat:"",color:"primary"}},[a("v-toolbar-title",{staticClass:"title mx-auto"},[t._v("Welcome!")])],1),a("v-card-text",{staticClass:"py-0"},[a("v-form",[a("v-label",[t._v("Company Email Address")]),a("v-text-field",{attrs:{outline:"",color:"primary darken-4",name:"employeeEmail",label:"admin@email.com",type:"text"},model:{value:t.employeeEmail,callback:function(e){t.employeeEmail=e},expression:"employeeEmail"}}),a("v-label",[t._v("Password")]),a("v-text-field",{attrs:{outline:"",color:"primary darken-4",name:"password",label:"password",id:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",{staticClass:"px-3 text-xs-center"},[a("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","order-sm2":""}},[a("v-btn",{staticClass:"px-5",staticStyle:{width:"100%"},attrs:{loading:t.$auth.status.loggingIn,color:"secondary"},on:{click:function(e){return t.login()}}},[t._v("Sign In")])],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-checkbox",{attrs:{color:"accent"},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",[t._v(" Remember Me ")])]},proxy:!0}]),model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{to:"",flat:""}},[t._v("Forgot your password?")])],1)],1)],1)],1)],1)],1)],1)},Pt=[],Ft={data:function(){return{employeeEmail:"",password:"",remember:!1}},methods:{login:function(){var t=this;this.$auth.login(this.employeeEmail,this.password).then(function(e){console.log("RESP",e),500!==e.status?t.$router.replace("/"):t.$notifyError("Invalid email and/or password")})}}},Rt=Ft,qt=Object(g["a"])(Rt,Dt,Pt,!1,null,"a1bfe598",null),Mt=qt.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"min-height":"250px",color:"primary"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-bold"},[t._v("Welcome")])]),a("v-card-text",{staticClass:"headline font-weight-light"},[a("router-link",{staticStyle:{color:"black"},attrs:{to:"/overview"}},[t._v("View Camera Feed")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:""}})],1)],1)},Vt=[],Lt={data:function(){return{}},mounted:function(){}},Wt=Lt,Ht=Object(g["a"])(Wt,Nt,Vt,!1,null,null,null),zt=Ht.exports;n["default"].use(k["a"]);var Yt=new k["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:zt,meta:{requiresAuth:!0}},{path:"/sign_in",name:"signIn",component:Mt},{path:"/overview",name:"overview",component:Ct,meta:{requiresAuth:!0}},{path:"/cam_details/:id",name:"cam_details",component:rt,meta:{requiresAuth:!0}},{path:"*",redirect:"/"}]});Yt.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?i.a.auth().onAuthStateChanged(function(t){t?a():a("/sign_in")}):a()});var Bt=a("2f62"),Ut=a("bfa9");function Jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){Qt(t,e,a[e])})}return t}function Qt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Kt={namespaced:!0,state:{alertData:Jt({},new v),active:!1},getters:{alert:function(t){return t}},mutations:{createAlert:function(t,e){t.alertData=e.alertData,t.active=!0},clearAlert:function(t){t.alertData=new v,t.active=!1}},actions:{createAlert:function(t,e){var a=t.commit;a("createAlert",e)},clearAlert:function(t){var e=t.commit;e("clearAlert")}}},Gt=a("bc3a"),Xt=a.n(Gt),Zt=Xt.a.create();Zt.token=window.localStorage.getItem("token")||null,Zt.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},Zt.login=function(t,e){var a=this;return this.post("/login",{employeeEmail:t,password:e}).then(function(t){console.log("Server response",t);var e=t.data;return e.data.token&&(window.localStorage.setItem("user",JSON.stringify(e.data)),window.localStorage.setItem("token",e.data.token),a.tokenInterceptor=a.interceptors.request.use(function(t){return t.headers["Authorization"]="Bearer "+e.data.token,t})),t.data}).catch(function(t){return t})},Zt.logout=function(){this.token=null,this.interceptors.request.eject(this.tokenInterceptor),window.localStorage.removeItem("token"),window.localStorage.removeItem("user")};var te=Zt,ee=a("59ca"),ae=a.n(ee);a("ea7b");te.new("/api");var ne=JSON.parse(localStorage.getItem("user")),re=ne?{status:{loggedIn:!0},user:ne}:{status:{},user:null},ie={namespaced:!0,state:re,getters:{user:function(t){return t}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}},actions:{login:function(t,e){var a=t.commit,n=e.employeeEmail,r=e.password;return a("loginRequest",{employeeEmail:n,password:r}),ae.a.auth().signInWithEmailAndPassword(n,r).then(function(t){var e={email:t.user.email,verified:t.user.emailVerified,id:t.user.uid};return window.localStorage.setItem("token",e.id),a("loginSuccess",e),e}).catch(function(t){return a("loginFailure",t),{e:t,status:500}})},logout:function(t){var e=t.commit;ae.a.auth().signOut(),window.localStorage.clear(),e("logout")}}},oe=Xt.a.create();oe.token=window.localStorage.getItem("token")||null,oe.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},oe.createEvent=function(t){return console.log("Event service",t),this.post("/create_event",{event:t}).then(function(t){return console.log("event service create event",t),t.data}).catch(function(t){return t})};var se=oe;se.new("/api");var le={namespaced:!0,state:{history:[]},getters:{history:function(t){return t}},mutations:{createEvent:function(t,e){t.history.push(e.event)}},actions:{createEvent:function(t,e){var a=t.commit;console.log("event store action",e),a("createEvent",e),se.createEvent(e.event).then(function(t){console.log(t)})}}};n["default"].use(Bt["a"]);var ce=new Bt["a"].Store({plugins:[new Ut["a"]({storage:window.localStorage,modules:["authentication","cameraAlert"]}).plugin],modules:{authentication:ie,cameraAlert:Kt,eventHistory:le}}),ue={install:function(t){t.mixin({computed:{$auth:function(){var t=ce.getters["authentication/user"];return t.login=function(t,e){return ce.dispatch("authentication/login",{employeeEmail:t,password:e})},t.logout=function(){return ce.dispatch("authentication/logout")},t}}})}},de=a("ee98"),fe=a.n(de),ve={install:function(t){var e="app-notifications";t.use(fe.a),t.mixin({methods:{$notifyError:function(t){this.$notify({group:e,text:t,type:"error"})},$notifyInfo:function(t){this.$notify({group:e,text:t,type:"info"})},$notifySuccess:function(t){this.$notify({group:e,text:t,type:"success"})},$notifyWarn:function(t){this.$notify({group:e,text:t,type:"warning"})}}})}},me={install:function(t){t.mixin({computed:{$cameraAlert:function(){var t=ce.getters["cameraAlert/alert"];return t.createAlert=function(t){return ce.dispatch("cameraAlert/createAlert",{alertData:t})},t.clearAlert=function(){return ce.dispatch("cameraAlert/clearAlert")},t}}})}},pe={install:function(t){t.mixin({computed:{$eventHistory:function(){var t=ce.getters["eventHistory/history"];return t.createEvent=function(t){return ce.dispatch("eventHistory/createEvent",{event:t})},t}}})}};a("fda2");i.a.initializeApp({apiKey:"AIzaSyC14MMLeymY_W_9a-Qoc8bYQji55tUm0Ak",authDomain:"wiley-app.firebaseapp.com",databaseURL:"https://wiley-app.firebaseio.com",projectId:"wiley-app",storageBucket:"wiley-app.appspot.com",messagingSenderId:"918656739220",appId:"1:918656739220:web:46326f33d145a55f"}),n["default"].config.productionTip=!1,n["default"].use(ue),n["default"].use(me),n["default"].use(pe),n["default"].use(ve),new n["default"]({router:Yt,store:ce,render:function(t){return t(x)}}).$mount("#app")},"63bd":function(t,e){},"64a9":function(t,e,a){},"7e19":function(t,e){},"8ee2":function(t,e,a){},a4f9:function(t,e){},aac7:function(t,e,a){"use strict";var n=a("8ee2"),r=a.n(n);r.a},b429:function(t){t.exports=[{id:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_raileast.jpg"},{id:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_railwest.jpg"}]},bdb9:function(t,e,a){"use strict";var n=a("1d17"),r=a.n(n);r.a},d87e:function(t,e,a){},ef42:function(t,e,a){"use strict";var n=a("d87e"),r=a.n(n);r.a}});
//# sourceMappingURL=app.fdd68a74.js.map
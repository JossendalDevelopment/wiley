(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)r=o[d],i[r]&&f.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0e22":function(t,e,a){},1:function(t,e){},"1aa8":function(t,e){},"1d17":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var n=a("2b0e"),i=a("8aa5"),s=a.n(i),r=a("ce5b"),o=a.n(r);a("bf40");n["default"].use(o.a,{theme:{primary:"#e2e2e2",primaryDark:"#cccccc",secondary:"#424242",accent:"#d42017",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"fa"});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[t.$auth.status.loggedIn?a("v-toolbar",{attrs:{app:"",fixed:""}},[a("v-toolbar-items",{staticStyle:{position:"relative","margin-right":"60px"}},[a("v-img",{staticStyle:{width:"60px",height:"50px",position:"absolute",bottom:"-1px",left:"0px"},attrs:{contain:"",src:"/assets/images/wiley_demo_header_icon.png"},on:{click:function(e){return t.$router.push("/")}}})],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/",flat:""}},[t._v("Home")]):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/overview",flat:""}},[t._v("Feed")]):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{flat:""}},[t._v("History")]):t._e()],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{color:"accent"},on:{click:function(e){return t.simulateAlert()}}},[t._v("Simulate alert")]):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-menu",{attrs:{"open-on-hover":"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{flat:""}},n),[t._v("\n                            "+t._s(t.$auth.user.email)+"\n                            "),a("v-icon",{staticClass:"pl-1"},[t._v("fas fa-caret-down")])],1)]}}],null,!1,1816198400)},[a("v-list",t._l(3,function(e){return a("v-list-tile",{key:e,on:{click:function(){return null}}},[a("v-list-tile-title",[t._v(t._s(e))])],1)}),1)],1):t._e()],1),a("v-toolbar-items",{staticClass:"hidden-xs-and-down"},[t.$auth.status.loggedIn?a("v-btn",{attrs:{flat:""},on:{click:function(e){return t.logout()}}},[t._v("Logout")]):t._e()],1)],1):t._e(),a("v-content",{attrs:{app:""}},[a("v-container",{attrs:{fluid:"","fill-height":"",primary:"","pa-0":""}},[a("router-view")],1)],1)],1)],1)},c=[],u=a("a34a"),d=a.n(u);function f(t){Object.assign(this,f.template,t)}Object.defineProperty(f,"template",{get:function(){return{id:"",status:"",type:"",detectedObject:"",probability:"",startTime:"",endTime:"",duration:"",cameraId:null,camNumber:null,name:"",sourceData:{src:"",type:""}}}});var v=f;function m(t,e,a,n,i,s,r){try{var o=t[s](r),l=o.value}catch(c){return void a(c)}o.done?e(l):Promise.resolve(l).then(n,i)}function p(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var s=t.apply(e,a);function r(t){m(s,n,i,r,o,"next",t)}function o(t){m(s,n,i,r,o,"throw",t)}r(void 0)})}}var h={name:"App",props:{},data:function(){return{}},methods:{logout:function(){var t=p(d.a.mark(function t(){return d.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$auth.logout();case 2:this.$router.replace("/sign_in");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),simulateAlert:function(){var t=new v({id:"01",status:"active",type:"motion",detectedObject:"coyote",probability:"95%",startTime:Date.now(),endTime:function(){var t=new Date;return t.setMinutes(t.getMinutes()+1),new Date(t)}(),duration:60,cameraId:100,camNumber:1,sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"}});this.$cameraAlert.createAlert(t)}}},g=h,b=a("2877"),y=Object(b["a"])(g,l,c,!1,null,null,null),_=y.exports,x=a("8c4f"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticClass:"test-ref"},[a("V-flex",{attrs:{xs3:""}},[a("video--controls")],1),t.working?t._e():a("v-flex",{attrs:{xs9:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[a("p",{staticClass:"mb-0"},[t._v(t._s(t.parseTime))]),a("v-layout",{attrs:{"justify-end":""}},[a("v-icon",[t._v("fas fa-flag")]),a("v-btn",{attrs:{flat:""}},[t._v("Flag for further review")])],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","align-start":"","justify-center":""}},[a("v-flex",{staticClass:"video-feed-wrapper",attrs:{xs10:""}},[a("video-player",{attrs:{options:t.getVideoOptions}}),a("v-layout",{staticClass:"controls",attrs:{"align-start":"","justify-end":""}},[a("div",{staticStyle:{display:"flex","align-items":"center",padding:"10px"},style:"background-color:rgba(222,222,222,0.3)"},[a("div",{staticClass:"live-icon"}),a("p",{staticClass:"pl-2 mb-0 test-ref primary--text"},[t._v("\n                            Live Feed\n                        ")])])])],1),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("h3",{staticClass:"py-3"},[t._v(t._s(t.formatProbabilityText))])])],1),a("v-flex",{attrs:{xs10:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-btn",{staticClass:"error btn",attrs:{large:""},on:{click:function(e){return t.falseAlarm()}}},[t._v("\n                        False Alarm \n                    ")]),a("v-btn",{staticClass:"success btn",attrs:{large:""},on:{click:function(e){return t.confirmObject()}}},[t._v("\n                        Confirm Object\n                    ")])],1)],1)],1)],1)],1)},k=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{staticStyle:{height:"100%","background-color":"#FFF"},attrs:{column:"","justify-space-between":""}},[a("v-list",[a("v-subheader",{on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("fas fa-arrow-left")]),t._v(" Back")],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-content",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-icon",[t._v("fas fa-bookmark")]),a("v-list-tile-title",[t._v("  # 231")])],1)],1)],1),a("detections-list"),a("employees-list"),a("v-list",{attrs:{dense:""}},[a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-content",{staticStyle:{display:"flex","flex-direction":"row"}},[a("v-list-tile-title",[t._v("Leave Feedback")])],1)],1)],1)],1)},j=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-subheader",[t._v("Workers Onsite")]),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Larry")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Moe")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Curly")])],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-user")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Shemp")])],1)],1)],1)},C=[],T={},S=Object(b["a"])(T,O,C,!1,null,null,null),A=S.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",{attrs:{dense:""}},[a("v-subheader",[t._v("Object Detected")]),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Coyote")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Traincar")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Worker")])],1)],1)],1),a("v-list-tile",{on:{click:function(){}}},[a("v-btn",{staticStyle:{width:"95%"},attrs:{outline:"",color:"secondary"}},[a("v-list-tile-action",[a("v-icon",[t._v("far fa-eye-slash")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Obstruction")])],1)],1)],1)],1)},E=[],D={},P=Object(b["a"])(D,$,E,!1,null,null,null),F=P.exports,q={components:{"employees-list":A,"detections-list":F},props:{captures:{type:Array,required:!1,default:function(){return[]}}}},M=q,R=Object(b["a"])(M,I,j,!1,null,null,null),V=R.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("video",{ref:"videoPlayer",staticClass:"video-js"})},L=[],H=a("f0e2"),W={name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null}},mounted:function(){this.options&&(this.player=Object(H["a"])(this.$refs.videoPlayer,this.options,function(){console.log("onPlayerReady",this)}))},beforeDestroy:function(){this.player&&this.player.dispose()}},Y=W,z=(a("bdb9"),Object(b["a"])(Y,N,L,!1,null,null,null)),B=z.exports,U=a("70f2"),J=a.n(U),Q=a("b429"),K=a("5118"),G={components:{"video--controls":V,"video-player":B},data:function(){return{stream:{},videoOptions:{autoplay:!0,controls:!0,responsive:!0,aspectRatio:"16:9",fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]},working:!0}},mounted:function(){var t=this;this.stream=Q.find(function(e){return e.id==t.$route.params.id}),this.setVideoOptions(),Object(K["setTimeout"])(function(){t.working=!1},200)},methods:{setVideoOptions:function(){this.videoOptions.sources=[this.stream.sourceData]},falseAlarm:function(){this.$cameraAlert.clearAlert(),this.$router.replace("/overview")},confirmObject:function(){this.$eventHistory.createEvent(this.$cameraAlert.alertData)}},computed:{parseTime:function(){return J()(new Date,"MM/DD/YYYY   hh:mm:ss")},getVideoOptions:function(){return this.videoOptions},formatProbabilityText:function(){return"Wiley is ".concat(this.$cameraAlert.alertData.probability," sure this is a ").concat(this.$cameraAlert.alertData.detectedObject,". Please confirm.")}}},X=G,Z=(a("ef42"),a("63bd")),tt=a.n(Z),et=Object(b["a"])(X,w,k,!1,null,"052bfe05",null);"function"===typeof tt.a&&tt()(et);var at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":"","fill-height":"","pa-0":""}},[a("v-layout",{attrs:{row:"",wrap:"","align-start":""}},t._l(t.streams,function(e){return a("v-flex",{key:e.id,attrs:{xs6:""}},[a("video-live-feed",{attrs:{stream:e}}),a("video-history",{attrs:{stream:e,events:t.parseEvents(e)}})],1)}),1)],1)},it=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-hover",[a("v-flex",{staticClass:"video-feed-wrapper"},[a("dummy-camera-image",{attrs:{source:t.stream.staticImage}}),a("v-layout",{staticClass:"controls"},[a("v-layout",{staticClass:"top",attrs:{"justify-end":"","align-start":""}},[a("p",{staticClass:"pa-2 test-ref primary--text",style:"background-color:rgba(222,222,222,0.3)"},[t._v("Cam "+t._s(t.stream.camNumber))])]),t.$cameraAlert.alertData.cameraId==t.stream.id?a("v-layout",{staticClass:"top px-2",style:"background-color:"+t.$vuetify.theme.accent,attrs:{"justify-space-between":"","align-center":""}},[a("v-layout",{staticClass:"ma-0",attrs:{"align-center":""}},[a("v-icon",{staticClass:"white--text"},[t._v("fas fa-exclamation-triangle")]),a("span",{staticClass:"pl-1 white--text"},[t._v("Object Detected")])],1),a("v-btn",{staticClass:"mr-0",attrs:{color:"white",to:{name:"cam_details",params:{id:t.stream.id}},small:"",outline:""}},[t._v("\n                    Inspect\n                ")])],1):t._e()],1)],1)],1)},rt=[],ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-img",{attrs:{src:t.getPath()}})},lt=[],ct={props:{source:{type:String,required:!0}},methods:{getPath:function(){return this.source}}},ut=ct,dt=Object(b["a"])(ut,ot,lt,!1,null,null,null),ft=dt.exports,vt={components:{"dummy-camera-image":ft},props:{stream:{type:Object,required:!0}},data:function(){return{cameras:{},cameraData:{},video:null,canvas:null,videoOptions:{autoplay:!0,controls:!1,responsive:!0,aspectRatio:"16:9",fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]}}},beforeDestroy:function(){this.video=null},methods:{getVideoOptions:function(){return this.videoOptions.sources=[this.stream.sourceData],this.videoOptions}}},mt=vt,pt=(a("c2db"),a("7e19")),ht=a.n(pt),gt=Object(b["a"])(mt,st,rt,!1,null,"001c4e63",null);"function"===typeof ht.a&&ht()(gt);var bt=gt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v(t._s(t.stream.camName))]),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{flat:"",small:""}},n),[t._v("settings")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("h3",[t._v("Additional details")])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:"",outline:""},on:{click:t.close}},[t._v("Cancel")])],1)],1)],1),a("v-spacer"),a("p",{staticClass:"mb-0 font-weight-bold headline",style:"color:"+t.$vuetify.theme.accent},[t._v("LIVE")]),a("p",{ref:"time",staticClass:"mb-0 pl-1"})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.events},scopedSlots:t._u([{key:"items",fn:function(e){return[t.stream.id==e.item.camId?[t.$cameraAlert.alertData.id==e.item.id?a("tr",{staticClass:"white--text",style:"background-color:"+t.$vuetify.theme.accent,attrs:{active:"active"==e.item.status}},[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.startTime))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.endTime))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.duration))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.status))]),a("td",{staticClass:"align-center layout px-0"},[a("v-btn",{staticClass:"ml-auto white--text",staticStyle:{width:"95%"},attrs:{small:"",outline:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    "+t._s("active"===e.item.status?"Inspect":"View Details")+"\n                ")])],1)]):a("tr",[a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.id))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.startTime))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.endTime))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.duration))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.status))]),a("td",{staticClass:"align-center layout px-0"},[a("v-btn",{staticClass:"ml-auto",staticStyle:{width:"95%"},attrs:{small:"",outline:""},on:{click:function(a){return t.editItem(e.item)}}},[t._v("\n                    "+t._s("active"===e.item.status?"Inspect":"View Details")+"\n                ")])],1)])]:t._e()]}},{key:"no-data",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n                No events have been logged yet\n            ")])]},proxy:!0}])})],1)},_t=[],xt={props:{stream:{type:Object,required:!0},events:{type:Array,required:!0}},data:function(){return{dialog:!1,headers:[{text:"#",align:"center",sortable:!1,value:"id",width:"1%"},{text:"Start Time",align:"right",value:"startTime",sortable:!1,width:"1%"},{text:"End Time",align:"right",value:"endTime",sortable:!1,width:"1%"},{text:"Duration",align:"right",value:"duration",sortable:!1,width:"1%"},{text:"Status",align:"right",value:"status",sortable:!1,width:"1%"},{text:"Actions",align:"center",value:"actions",sortable:!1,width:"1%"}],editedIndex:-1,editedItem:{id:"",startTime:0,endTime:0,duration:0,status:0},defaultItem:{id:"",startTime:0,endTime:0,duration:0,status:0},timer:null}},computed:{formTitle:function(){return-1===this.editedIndex?"Settings":"Item Details"}},watch:{dialog:function(t){t||this.close()}},mounted:function(){this.startTime()},destroyed:function(){clearInterval(this.timer)},methods:{editItem:function(t){"active"!==t.status?(this.editedIndex=this.events.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0):this.$router.push({name:"cam_details",params:{id:t.camId}})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1},300)},startTime:function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),n=t.getSeconds();this.$refs.time.innerHTML=e+":"+a.toString().padStart(2,"0")+":"+n.toString().padStart(2,"0"),this.timer=setTimeout(this.startTime,500)}}},wt=xt,kt=(a("8c5a"),Object(b["a"])(wt,yt,_t,!1,null,"5405714c",null)),It=kt.exports,jt={components:{"video-live-feed":bt,"video-history":It},data:function(){return{captures:[],streams:Q,events:[{camId:100,id:"01",startTime:159,endTime:6,duration:24,status:"active"},{camId:200,id:"02",startTime:237,endTime:9,duration:37,status:"closed"},{camId:100,id:"03",startTime:262,endTime:16,duration:23,status:"closed"},{camId:200,id:"04",startTime:305,endTime:3.7,duration:67,status:"closed"},{camId:100,id:"05",startTime:356,endTime:16,duration:49,status:"closed"},{camId:200,id:"06",startTime:375,endTime:0,duration:94,status:"pending"},{camId:100,id:"07",startTime:392,endTime:.2,duration:98,status:"active"},{camId:200,id:"08",startTime:408,endTime:3.2,duration:87,status:"pending"},{camId:100,id:"09",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"10",startTime:518,endTime:26,duration:65,status:"closed"},{camId:100,id:"11",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"12",startTime:518,endTime:26,duration:65,status:"closed"},{camId:100,id:"13",startTime:452,endTime:25,duration:51,status:"closed"},{camId:200,id:"14",startTime:518,endTime:26,duration:65,status:"closed"}]}},methods:{parseEvents:function(t){return this.events.filter(function(e){return e.camId==t.id})}}},Ot=jt,Ct=a("1aa8"),Tt=a.n(Ct),St=Object(b["a"])(Ot,nt,it,!1,null,null,null);"function"===typeof Tt.a&&Tt()(St);var At=St.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":"","pa-0":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{staticStyle:{height:"100%"},style:"background-color:"+t.$vuetify.theme.primary,attrs:{xs1:""}}),a("v-flex",{staticStyle:{"background-color":"#FFFFFF",height:"100%"},attrs:{xs4:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-img",{attrs:{"max-width":"80%",src:"/assets/images/wiley_demo_logo.png"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm7:"","px-5":""}},[a("v-layout",{class:t.$vuetify.breakpoint.smAndUp?"justify-start":"justify-center"},[a("v-flex",{attrs:{sm12:"",md7:""}},[a("v-card",{attrs:{flat:"",color:"primary"}},[a("v-toolbar",{attrs:{flat:"",color:"primary"}},[a("v-toolbar-title",{staticClass:"title mx-auto"},[t._v("Welcome!")])],1),a("v-card-text",{staticClass:"py-0"},[a("v-form",[a("v-label",[t._v("Company Email Address")]),a("v-text-field",{attrs:{outline:"",color:"primary darken-4",name:"employeeEmail",label:"admin@email.com",type:"text"},model:{value:t.employeeEmail,callback:function(e){t.employeeEmail=e},expression:"employeeEmail"}}),a("v-label",[t._v("Password")]),a("v-text-field",{attrs:{outline:"",color:"primary darken-4",name:"password",label:"password",id:"password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",{staticClass:"px-3 text-xs-center"},[a("v-layout",{attrs:{wrap:"","align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","order-sm2":""}},[a("v-btn",{staticClass:"px-5",staticStyle:{width:"100%"},attrs:{loading:t.$auth.status.loggingIn,color:"secondary"},on:{click:function(e){return t.login()}}},[t._v("Sign In")])],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-checkbox",{attrs:{color:"accent"},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",[t._v(" Remember Me ")])]},proxy:!0}]),model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}})],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{to:"",flat:""}},[t._v("Forgot your password?")])],1)],1)],1)],1)],1)],1)],1)},Et=[],Dt={data:function(){return{employeeEmail:"",password:"",remember:!1}},methods:{login:function(){var t=this;this.$auth.login(this.employeeEmail,this.password).then(function(){t.$router.replace("/")})}}},Pt=Dt,Ft=Object(b["a"])(Pt,$t,Et,!1,null,"6e6deb17",null),qt=Ft.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":""}},[a("v-layout",{attrs:{wrap:"","align-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-card",{staticClass:"mx-auto",attrs:{"min-height":"250px",color:"primary"}},[a("v-card-title",[a("span",{staticClass:"title font-weight-bold"},[t._v("Welcome")])]),a("v-card-text",{staticClass:"headline font-weight-light"},[a("router-link",{staticStyle:{color:"black"},attrs:{to:"/overview"}},[t._v("View Camera Feed")])],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm6:""}})],1)],1)},Rt=[],Vt={data:function(){return{}},mounted:function(){}},Nt=Vt,Lt=Object(b["a"])(Nt,Mt,Rt,!1,null,null,null),Ht=Lt.exports;n["default"].use(x["a"]);var Wt=new x["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ht,meta:{requiresAuth:!0}},{path:"/sign_in",name:"signIn",component:qt},{path:"/overview",name:"overview",component:At,meta:{requiresAuth:!0}},{path:"/cam_details/:id",name:"cam_details",component:at,meta:{requiresAuth:!0}},{path:"*",redirect:"/"}]});Wt.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?s.a.auth().onAuthStateChanged(function(t){t?a():a("/sign_in")}):a()});var Yt=a("2f62"),zt=a("bfa9");function Bt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){Ut(t,e,a[e])})}return t}function Ut(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Jt={namespaced:!0,state:{alertData:Bt({},new v)},getters:{alert:function(t){return t}},mutations:{createAlert:function(t,e){t.alertData=e.alertData},clearAlert:function(t){t.alertData=new v}},actions:{createAlert:function(t,e){var a=t.commit;a("createAlert",e)},clearAlert:function(t){var e=t.commit;e("clearAlert")}}},Qt=a("bc3a"),Kt=a.n(Qt),Gt=Kt.a.create();Gt.token=window.localStorage.getItem("token")||null,Gt.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},Gt.login=function(t,e){var a=this;return this.post("/login",{employeeEmail:t,password:e}).then(function(t){console.log("Server response",t);var e=t.data;return e.data.token&&(window.localStorage.setItem("user",JSON.stringify(e.data)),window.localStorage.setItem("token",e.data.token),a.tokenInterceptor=a.interceptors.request.use(function(t){return t.headers["Authorization"]="Bearer "+e.data.token,t})),t.data}).catch(function(t){return t})},Gt.logout=function(){this.token=null,this.interceptors.request.eject(this.tokenInterceptor),window.localStorage.removeItem("token"),window.localStorage.removeItem("user")};var Xt=Gt,Zt=a("59ca"),te=a.n(Zt);a("ea7b");Xt.new("/api");var ee=JSON.parse(localStorage.getItem("user")),ae=ee?{status:{loggedIn:!0},user:ee}:{status:{},user:null},ne={namespaced:!0,state:ae,getters:{user:function(t){return t}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}},actions:{login:function(t,e){var a=t.commit,n=e.employeeEmail,i=e.password;return a("loginRequest",{employeeEmail:n,password:i}),te.a.auth().signInWithEmailAndPassword(n,i).then(function(t){var e={email:t.user.email,verified:t.user.emailVerified,id:t.user.uid};return window.localStorage.setItem("token",e.id),a("loginSuccess",e),e}).catch(function(t){return a("loginFailure",t),t})},logout:function(t){var e=t.commit;te.a.auth().signOut(),window.localStorage.clear(),e("logout")}}},ie=Kt.a.create();ie.token=window.localStorage.getItem("token")||null,ie.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},ie.createEvent=function(t){return console.log("Event service",t),this.post("/create_event",{event:t}).then(function(t){return console.log("event service create event",t),t.data}).catch(function(t){return t})};var se=ie;se.new("/api");var re={namespaced:!0,state:{history:[]},getters:{history:function(t){return t}},mutations:{createEvent:function(t,e){t.history.push(e.event)}},actions:{createEvent:function(t,e){var a=t.commit;console.log("event store action",e),a("createEvent",e),se.createEvent(e.event).then(function(t){console.log(t)})}}};n["default"].use(Yt["a"]);var oe=new Yt["a"].Store({plugins:[new zt["a"]({storage:window.localStorage,modules:["authentication","cameraAlert"]}).plugin],modules:{authentication:ne,cameraAlert:Jt,eventHistory:re}}),le={install:function(t){t.mixin({computed:{$auth:function(){var t=oe.getters["authentication/user"];return t.login=function(t,e){return oe.dispatch("authentication/login",{employeeEmail:t,password:e})},t.logout=function(){return oe.dispatch("authentication/logout")},t}}})}},ce={install:function(t){t.mixin({computed:{$cameraAlert:function(){var t=oe.getters["cameraAlert/alert"];return t.createAlert=function(t){return oe.dispatch("cameraAlert/createAlert",{alertData:t})},t.clearAlert=function(){return oe.dispatch("cameraAlert/clearAlert")},t}}})}},ue={install:function(t){t.mixin({computed:{$eventHistory:function(){var t=oe.getters["eventHistory/history"];return t.createEvent=function(t){return oe.dispatch("eventHistory/createEvent",{event:t})},t}}})}};a("fda2");s.a.initializeApp({apiKey:"AIzaSyC14MMLeymY_W_9a-Qoc8bYQji55tUm0Ak",authDomain:"wiley-app.firebaseapp.com",databaseURL:"https://wiley-app.firebaseio.com",projectId:"wiley-app",storageBucket:"wiley-app.appspot.com",messagingSenderId:"918656739220",appId:"1:918656739220:web:46326f33d145a55f"}),n["default"].config.productionTip=!1,n["default"].use(le),n["default"].use(ce),n["default"].use(ue),new n["default"]({router:Wt,store:oe,render:function(t){return t(_)}}).$mount("#app")},"63bd":function(t,e){},"7e19":function(t,e){},"8c5a":function(t,e,a){"use strict";var n=a("0e22"),i=a.n(n);i.a},b13e:function(t,e,a){},b429:function(t){t.exports=[{id:100,camNumber:1,camName:"Rail East",sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_raileast.jpg"},{id:200,camNumber:2,camName:"Rail West",sourceData:{src:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_railwest.jpg"}]},bdb9:function(t,e,a){"use strict";var n=a("1d17"),i=a.n(n);i.a},c2db:function(t,e,a){"use strict";var n=a("b13e"),i=a.n(n);i.a},d87e:function(t,e,a){},ef42:function(t,e,a){"use strict";var n=a("d87e"),i=a.n(n);i.a}});
//# sourceMappingURL=app.98f2efad.js.map
(function(t){function e(e){for(var s,r,o=e[0],c=e[1],u=e[2],m=0,d=[];m<o.length;m++)r=o[m],n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"035e":function(t,e,a){},"044f":function(t,e,a){},1:function(t,e){},"15a2":function(t,e,a){"use strict";var s=a("c6bf"),n=a.n(s);n.a},1686:function(t,e,a){"use strict";var s=a("97ba"),n=a.n(s);n.a},"1aa8":function(t,e){},"1c1e":function(t,e,a){"use strict";var s=a("035e"),n=a.n(s);n.a},"1e7d":function(t,e,a){},"4cf6":function(t,e,a){},"53a9":function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf");var s=a("2b0e"),n=a("ce5b"),i=a.n(n);a("bf40");s["default"].use(i.a,{theme:{primary:"#FFF",primaryLight:"#f2f2f2",primaryDark1:"#e2e2e2",primaryDark2:"#cccccc",buttonBlack:"#141414",secondary:"#424242",secondaryDark:"#1D1D1D",border:"#4D4D4D",accent:"#D91111",error:"#D91111",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},options:{customProperties:!0},iconfont:"fa"});var r=a("8aa5"),o=a.n(r),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-alert",{staticStyle:{"margin-top":"0px","margin-bottom":"0px","padding-right":"2rem"},attrs:{value:t.$cameraAlert.showHeader,color:"error",light:"",transition:"slide-y-transition",dismissible:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("span",{staticClass:"text-xs-center mb-0 headline",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.goToAlertDetails()}}},[t._v(t._s(t.formatAlertText))]),a("a",{staticClass:"ml-3",staticStyle:{"text-decoration":"underline",cursor:"pointer"}},[t._v("Snooze alerts for 1 minute?")])])],1),a("v-app",{attrs:{id:"inspire"}},[t.$auth.status.loggedIn?a("v-toolbar",{staticClass:"app-toolbar",attrs:{app:"",flat:"",absolute:""}},[a("v-spacer"),t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/overview",dark:"",flat:""}},[t._v("Live Feed")]):t._e(),t.$auth.status.loggedIn?a("v-btn",{staticStyle:{position:"relative"},attrs:{to:"/training",dark:"",flat:""}},[t._v("\n                Model Training\n                "),t.unclassifiedEventCount?a("v-badge",{staticStyle:{position:"absolute",top:"3px",right:"-5px"},attrs:{color:"red"}},[a("span",{staticStyle:{"margin-left":"2px","margin-top":"1px"},attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.unclassifiedEventCount))])]):t._e()],1):t._e(),t.$auth.status.loggedIn?a("v-btn",{attrs:{to:"/history",dark:"",flat:""}},[t._v("History")]):t._e(),a("v-spacer"),a("v-btn",{staticClass:"logout-btn",attrs:{dark:"",flat:""},on:{click:function(e){return t.logout()}}},[t._v("logout")])],1):t._e(),a("v-content",{staticClass:"app-container",attrs:{app:""}},[a("v-container",{attrs:{fluid:"","fill-height":"","pa-0":""}},[a("router-view")],1)],1),a("notifications",{staticStyle:{top:"20%"},attrs:{group:"classification-notifications",max:1,speed:500,width:250,duration:500,"animation-type":"velocity",animation:t.animation,position:"center center"},scopedSlots:t._u([{key:"body",fn:function(e){return a("div",{},[a("div",{staticStyle:{display:"flex","font-family":"'DIN Condensed'","font-size":"30px","background-color":"red",color:"#FFF",padding:"20px","letter-spacing":"2.5px"}},[a("p",{staticClass:"mb-0 mx-auto"},[t._v(t._s(e.item.text))])])])}}])}),a("notifications",{staticStyle:{bottom:"5%",right:"5%"},attrs:{group:"app-notifications",max:1,duration:1e3,position:"right bottom"},scopedSlots:t._u([{key:"body",fn:function(e){return a("div",{},[a("v-alert",{staticStyle:{"font-family":"'DIN Condensed'","font-size":"18px","letter-spacing":"2px"},attrs:{color:e.item.type},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v("\n                    "+t._s(e.item.text)+"\n                ")])],1)}}])})],1)],1)},u=[],l=a("a34a"),m=a.n(l),d=a("89b3");function f(t,e,a,s,n,i,r){try{var o=t[i](r),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(s,n)}function p(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var i=t.apply(e,a);function r(t){f(i,s,n,r,o,"next",t)}function o(t){f(i,s,n,r,o,"throw",t)}r(void 0)})}}var v={name:"App",props:{},data:function(){return{alert:!0,events:d.events,animation:{enter:function(){return{translateY:[0,200],opacity:[1,0]}},leave:{translateY:-30,height:0,opacity:0}}}},computed:{formatAlertText:function(){var t=this.$cameraAlert.alertData;return"1 ".concat(t.detectedObject," identified in ").concat(t.camName)},unclassifiedEventCount:function(){return this.$events.events.reduce(function(t,e){return e.classified||t++,t},0)}},methods:{logout:function(){var t=p(m.a.mark(function t(){return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$auth.logout();case 2:this.$router.replace("/sign_in");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getNewEvents:function(){var t=p(m.a.mark(function t(){var e;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$events.addNewEvents(this.events);case 3:return t.next=5,this.$events.getAllEvents();case 5:return e=t.sent,t.next=8,this.$events.setEvents(e.data);case 8:this.$notifySuccess("New events received!"),t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](0),this.$notifyError("Error getting new events!"),new Error(t.t0);case 15:case"end":return t.stop()}},t,this,[[0,11]])}));function e(){return t.apply(this,arguments)}return e}()}},g=v,h=(a("5906"),a("2877")),y=a("a4f9"),b=a.n(y),x=Object(h["a"])(g,c,u,!1,null,"5593e83d",null);"function"===typeof b.a&&b()(x);var w=x.exports,E=a("8c4f"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0===t.unclassifiedEvents.length?a("v-layout",{staticClass:"video-container test-ref",attrs:{"justify-center":"","fill-height":"","align-center":""}},[a("span",{staticStyle:{color:"white","font-family":"DIN Condensed","font-size":"30px"}},[t._v("\n            THERE ARE NO UNCLASSIFIED EVENTS\n        ")])]):t.working?t._e():a("v-layout",{staticClass:"video-container test-ref",attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("span",{staticStyle:{color:"white","font-family":"'DIN Condensed'","font-size":"28px"}},[t._v(t._s(t.currentEventIndex+1+"/"+(t.$events.events&&t.unclassifiedEvents.length)))])]),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-layout",{attrs:{"justify-start":"","align-center":""}},[a("v-btn",{attrs:{flat:"",large:""},on:{click:function(e){return t.goBack()}}},[t._v("Previous")])],1)],1),a("v-flex",{staticClass:"video-feed-wrapper",attrs:{xs8:""}},[a("div",{staticClass:"red-border"},[a("dummy-camera-image",{ref:"cameraImage",attrs:{boundary:t.currentEvent.boundary,source:t.currentEvent}})],1)]),a("v-flex",{attrs:{xs2:""}},[a("v-layout",{attrs:{"justify-end":"","align-center":""}},[a("v-btn",{attrs:{flat:"",large:""},on:{click:function(e){return t.goNext()}}},[t._v("Next/Skip")])],1)],1)],1),a("v-layout",{attrs:{column:"","align-center":"","justify-center":""}},[a("v-flex",{staticClass:"text--center white--text",attrs:{xs10:""}},[a("p",{staticStyle:{"font-family":"Montserrat","font-size":"14px","font-weight":"700"}},[t._v("SELECT OR USE YOUR KEYBOARD")])]),a("v-layout",{attrs:{"justify-space-between":""}},[a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"control-btn",style:t.selected("employee"),attrs:{flat:"",large:""},on:{click:function(e){return t.setClassification("employee")}}},[t._v("1 employee")]),a("p",{staticClass:"control-text text-xs-center"},[t._v(t._s(t.getTotalByType("employee")))])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"control-btn",style:t.selected("non-employee"),attrs:{flat:"",large:""},on:{click:function(e){return t.setClassification("non-employee")}}},[t._v("2 non-employee")]),a("p",{staticClass:"control-text text-xs-center"},[t._v(t._s(t.getTotalByType("non-employee")))])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"control-btn",style:t.selected("contractor"),attrs:{flat:"",large:""},on:{click:function(e){return t.setClassification("contractor")}}},[t._v("3 contractor")]),a("p",{staticClass:"control-text text-xs-center"},[t._v(t._s(t.getTotalByType("contractor")))])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"control-btn",style:t.selected("coyote"),attrs:{flat:"",large:""},on:{click:function(e){return t.setClassification("coyote")}}},[t._v("4 coyote")]),a("p",{staticClass:"control-text text-xs-center"},[t._v(t._s(t.getTotalByType("coyote")))])],1),a("v-flex",{attrs:{xs2:""}},[a("v-btn",{staticClass:"control-btn",style:t.selected("false-alarm"),attrs:{flat:"",large:""},on:{click:function(e){return t.openFalseAlarmModal()}}},[t._v("5 false alarm")]),a("p",{staticClass:"control-text text-xs-center"},[t._v(t._s(t.getTotalByType("false-alarm")))])],1)],1)],1)],1),a("app-dialog",{ref:"falsealarm",attrs:{"max-width":"500",lazy:""},on:{closed:function(e){return t.addListeners()},opened:function(e){return t.focusTextarea()}}},[a("template",{slot:"modaltitle"},[t._v("\n                CONFIRM FALSE ALARM?\n            ")]),a("template",{slot:"modalcontent"},[a("v-textarea",{ref:"falsealarmtextarea",staticClass:"textarea",attrs:{dark:"","background-color":"transparent",rows:"6","auto-grow":"",placeholder:"Please leave a reason for registering this event as a false alarm"},model:{value:t.confirmationDescription,callback:function(e){t.confirmationDescription=e},expression:"confirmationDescription"}})],1),a("v-btn",{staticStyle:{"background-color":"#FFF",color:"black"},attrs:{slot:"detailsButton",dark:"",disabled:!t.confirmationDescription},on:{click:function(e){return t.setFalseAlarmClassification("false-alarm")}},slot:"detailsButton"},[t._v("\n                Confirm\n            ")])],2)],1)},T=[],j=(a("e71f"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"images-container",class:t.zoomed?"zoom-out-cursor":"zoom-in-cursor"},[a("transition",{attrs:{appear:"",name:"fade",mode:"out-in",duration:300}},[t.zoomed?t._e():a("v-img",{key:t.source.id,ref:"dummyImage",staticStyle:{position:"absolute",width:"100%"},attrs:{src:t.source.staticImage},on:{click:function(e){return t.zoom()}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[a("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"#FFFFFF55"}})],1)]},proxy:!0}],null,!1,186497556)},[a("div",{staticClass:"image-overlay-text"},[a("span",[t._v("PRESS SPACE BAR TO ZOOM")])])]),t.zoomed?a("v-img",{key:t.source.id,ref:"dummyImage",staticStyle:{position:"absolute",width:"100%"},attrs:{src:t.source.staticImageZoomed},on:{click:function(e){return t.zoom()}}}):t._e()],1)],1)}),C=[],_={props:{source:{type:Object,required:!1,default:function(){}},boundary:{type:Object,default:function(){return{x:220,y:160,width:100,height:75}}}},data:function(){return{canvas:null,zoomed:!1,relBoundary:{yMin:.19369137287139893,xMin:.4157434105873108,yMax:.33124929666519165,xMax:.4459244608879089}}},methods:{getPathZoomed:function(){return this.source.staticImageZoomed},drawCanvas:function(){this.canvas=this.$refs.myCanvas;var t=this.$refs.myCanvas;t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight,this.drawBoundary()},drawBoundary:function(){var t=this.$refs.myCanvas.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.beginPath(),t.lineWidth="3",t.strokeStyle="red",console.log("CANVAS W/H",this.canvas.width,this.canvas.height),console.log("CANVAS BOX W/H",this.canvas.width-this.canvas.width*this.relBoundary.xMin),t.rect(this.boundary.x,this.boundary.y,this.boundary.width,this.boundary.height),t.stroke()},zoom:function(){this.zoomed=!this.zoomed,this.getPath},zoomOut:function(){this.zoomed&&(this.zoomed=!1)},getClick:function(){var t=this.$refs.dummyImage.$el.getBoundingClientRect(),e=t.width/2-(this.boundary.x+this.boundary.width/2),a=t.height/2-(this.boundary.y+this.boundary.height/2);this.$refs.dummyImage.$el.style="transform: scale(3) translate(".concat(e,"px, ").concat(a,"px)")},setScale:function(){if(this.zoomed){var t=this.$refs.dummyImage.$el.getBoundingClientRect(),e=t.width/2-(this.boundary.x+this.boundary.width/2),a=t.height/2-(this.boundary.y+this.boundary.height/2);return"transform: scale(3) translate(".concat(e,"px, ").concat(a,"px)")}return""}},computed:{getPath:function(){return this.zoomed?this.source.staticImageZoomed:this.source.staticImage}},mounted:function(){setTimeout(function(){},400)},watch:{boundary:function(){setTimeout(function(){},400)}}},k=_,A=(a("7e1c"),a("6876")),S=a.n(A),O=Object(h["a"])(k,j,C,!1,null,"41f743ce",null);"function"===typeof S.a&&S()(O);var D=O.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{ref:"dialog",attrs:{persistent:t.isLoading||t.persistent,lazy:t.lazy,"max-width":t.maxWidth,flat:""},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("v-dialog",{attrs:{lazy:"",persistent:"","fill-height":"","content-class":"elevation-0"},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("p",{staticClass:"text-xs-center pt-4"},[a("v-progress-circular",{attrs:{size:70,width:7,indeterminate:"",lazy:"",color:"white"}})],1)]),t._t("default",[a("v-card",{attrs:{color:"transparent",flat:""}},[a("v-layout",{attrs:{"align-center":"","justify-space-between":""}},[a("v-card-title",{staticClass:"mb-0 pb-0"},[a("h2",{staticClass:"ml-1",staticStyle:{display:"inline",color:"#FFF","font-family":"DIN Condensed","font-weight":"700","letter-spacing":"5px"}},[t._t("modaltitle")],2)]),t.isLoading||t.persistent?t._e():a("v-icon",{staticClass:"right mt-3 mr-3",attrs:{dark:""},on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[t._v("\n                    fas fa-times\n                ")])],1),a("v-card-text",{staticClass:"modal-content"},[t._t("modalcontent")],2),a("v-card-actions",[t._t("cancelbutton"),a("span",{staticClass:"ml-2"},[t.isLoading?t._e():t._t("actionbuttons")],2),a("v-spacer"),a("span",{staticClass:"mr-2",attrs:{right:""}},[t._t("detailsButton")],2)],2)],1)])],2)},$=[],z={props:{persistent:{type:Boolean,required:!1,default:!1},lazy:{type:Boolean,required:!1,default:!1},maxWidth:{type:String,required:!1,default:void 0}},data:function(){return{isOpen:!1,isLoading:!1}},methods:{open:function(){this.isOpen=!0,this.$emit("opened")},close:function(){this.isOpen=!1,this.$emit("closed")},startLoading:function(){this.isLoading=!0},stopLoading:function(){this.isLoading=!1}}},R=z,F=(a("15a2"),Object(h["a"])(R,N,$,!1,null,null,null)),P=F.exports,H={components:{"dummy-camera-image":D,"app-dialog":P},data:function(){return{eventWatcher:null,unclassifiedEvents:[],listeners:null,working:!0,currentEventIndex:0,currentEvent:{},confirmationDescription:"",videoOptions:{autoplay:!0,controls:!1,responsive:!0,aspectRatio:"16:9",fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]}}},mounted:function(){this.unclassifiedEvents=this.$events.events.filter(function(t){return!t.classified}),this.unclassifiedEvents.length>0&&(this.currentEvent=this.unclassifiedEvents[0])},created:function(){var t=this;this.listeners=function(e){"1"===String.fromCharCode(e.keyCode)?t.setClassification("employee"):"2"===String.fromCharCode(e.keyCode)?t.setClassification("non-employee"):"3"===String.fromCharCode(e.keyCode)?t.setClassification("contractor"):"4"===String.fromCharCode(e.keyCode)?t.setClassification("coyote"):"5"===String.fromCharCode(e.keyCode)?t.openFalseAlarmModal():32===e.keyCode?t.$refs.cameraImage.zoom():39===e.keyCode?t.goNext():37===e.keyCode&&t.goBack()},this.addListeners();var e=o.a.firestore();this.eventWatcher=e.collection("classified_events").limit(25).onSnapshot(function(e){var a=[];e.forEach(function(t){var e=t.data();e.id=t.id,a.push(e)}),t.$events.setEvents(a),t.working=!1},function(t){console.log("Error in EventWatcher:",t)})},destroyed:function(){this.eventWatcher(),this.removeListeners()},methods:{addListeners:function(){window.addEventListener("keyup",this.listeners)},removeListeners:function(){window.removeEventListener("keyup",this.listeners)},goBack:function(){this.currentEventIndex=this.crawlArray(this.unclassifiedEvents,this.currentEventIndex,-1),this.currentEvent=this.unclassifiedEvents[this.currentEventIndex],this.$refs.cameraImage.zoomOut()},goNext:function(){this.currentEventIndex=this.crawlArray(this.unclassifiedEvents,this.currentEventIndex,1),this.currentEvent=this.unclassifiedEvents[this.currentEventIndex],this.$refs.cameraImage.zoomOut()},crawlArray:function(t,e,a){return((e+a)%t.length+t.length)%t.length},setFalseAlarmClassification:function(t){this.$refs.falsealarm.close(),this.addListeners(),this.setClassification(t)},setClassification:function(t){this.currentEvent.classifiedAs=t,this.currentEvent.confirmationDescription=this.confirmationDescription,this.confirmationDescription="",this.updateConfirmedEvent(this.currentEvent)},updateConfirmedEvent:function(t){var e=this;this.$events.updateEvent(t).then(function(){e.$notifyClassification(t.classifiedAs.toUpperCase()),setTimeout(function(){e.goNext()},1500)}).catch(function(){e.$notifyError("FAILED TO CLASSIFY EVENT")})},getTotalByType:function(t){return this.$events.events.reduce(function(e,a){return a.classifiedAs===t&&e++,e},0)},selected:function(t){return this.unclassifiedEvents[this.currentEventIndex]&&this.unclassifiedEvents[this.currentEventIndex].classifiedAs===t?"background-color: #FFF; color: black;":""},openFalseAlarmModal:function(){this.removeListeners(),this.$refs.falsealarm.open()},focusTextarea:function(){var t=this;this.$nextTick(function(){t.$refs.falsealarmtextarea.focus()})}}},L=H,M=(a("1c1e"),a("61db")),B=a.n(M),W=Object(h["a"])(L,I,T,!1,null,"bf2c39ce",null);"function"===typeof B.a&&B()(W);var Z=W.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"overview-container",attrs:{"grid-list-xl":"","fill-height":""}},[a("v-layout",{attrs:{column:""}},[a("v-layout",{attrs:{row:"",wrap:"","align-center":""}},t._l(t.streams,function(e){return a("v-flex",{key:e.id,attrs:{xs6:""}},[a("v-card",{staticClass:"card-container",attrs:{flat:""}},[a("video-live-feed",{attrs:{stream:e}}),a("v-card-title",[a("span",{staticClass:"cam-name"},[t._v(t._s(e.camName.toUpperCase()))])])],1)],1)}),1),a("v-layout",{attrs:{column:"","align-end":"","justify-end":""}},[a("p",{staticClass:"clock label"},[t._v("TIME")]),a("p",{staticClass:"clock timer"},[t._v(t._s(t.dateTime))])])],1)],1)},U=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-hover",[a("v-flex",{staticClass:"video-feed-wrapper pa-0"},[a("video-player",{attrs:{options:t.getVideoOptions()}})],1)],1)},V=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("v-layout",{staticClass:"controls-top",attrs:{"align-start":"","justify-end":""}}),a("div",{staticClass:"player-wrapper"},[a("video",{ref:"videoPlayer",staticClass:"video-js",class:{zoom:t.isZoomed},on:{click:function(e){return t.togglePause()}}})]),"/overview"!==t.$route.fullPath?a("v-layout",{staticClass:"controls-bottom",attrs:{"align-center":""}},[a("div",{staticClass:"back",on:{mousedown:function(e){return t.backward()},mouseleave:function(e){return t.stop()},mouseup:function(e){return t.stop()}}},[a("v-icon",[t._v("fas fa-step-backward")])],1),a("v-flex",{staticClass:"slider pa-0 mx-0"},[a("v-layout",{attrs:{"align-center":""}},[a("div",{staticStyle:{width:"100%","margin-left":"8px","margin-right":"6px"}},[a("video-player--slider",{attrs:{duration:t.duration,currentTime:t.currentTime},on:{sliderchange:function(e){return t.handleSliderChange(e)}}})],1)])],1),a("div",{staticClass:"forward",on:{mousedown:function(e){return t.forward()},mouseleave:function(e){return t.stop()},mouseup:function(e){return t.stop()}}},[a("v-icon",[t._v("fas fa-step-forward")])],1),a("v-flex",{staticClass:"review",attrs:{"justify-center":""},on:{click:function(){}}},[a("p",{staticClass:"px-2 mb-0 secondary--text"},[t._v("\n                Review Playback\n            ")])]),a("v-flex",{staticClass:"live",attrs:{"justify-center":""},on:{click:function(){}}},[a("div",{staticClass:"live-icon"}),a("p",{staticClass:"px-2 mb-0 secondary--text"},[t._v("\n                Live Feed\n            ")])])],1):t._e()],1)},G=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("vue-slider",{attrs:{interval:.25,tooltip:"none",max:t.duration},on:{change:function(e){return t.handleChange(e)}},model:{value:t.autoTime,callback:function(e){t.autoTime=e},expression:"autoTime"}})},Q=[],X=a("4971"),tt=a.n(X),et=(a("24df"),{components:{"vue-slider":tt.a},props:{duration:{type:Number,required:!0},currentTime:{type:Number,required:!0}},methods:{handleChange:function(t){this.$emit("sliderchange",t)}},computed:{autoTime:{get:function(){return this.currentTime},set:function(t){this.$emit("update",t)}}}}),at=et,st=Object(h["a"])(at,K,Q,!1,null,null,null),nt=st.exports,it=a("f0e2"),rt=(a("e9dd"),{name:"VideoPlayer",components:{"video-player--slider":nt},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null,duration:0,currentTime:0,interval:null,isZoomed:!1}},mounted:function(){var t=this;if(this.options){var e=this;this.$nextTick(function(){t.player=Object(it["a"])(t.$refs.videoPlayer,t.options,function(){console.log("onPlayerReady",this)}),t.player.on("timeupdate",function(){e.currentTime=e.player.currentTime()}),t.player.on("loadedmetadata",function(){console.log("metadata loaded"),e.duration=Math.ceil(e.player.duration())})})}},beforeDestroy:function(){this.player&&this.player.dispose()},methods:{handleSliderChange:function(t){this.player.currentTime(t)},togglePause:function(){},backward:function(){this.currentTime>=3&&(this.currentTime=this.currentTime-3,this.player.currentTime(this.currentTime))},forward:function(){var t=this;this.interval||(this.interval=setInterval(function(){t.currentTime>=t.duration-1?t.stop():(t.currentTime=t.currentTime+1,t.player.currentTime(t.currentTime))},100))},stop:function(){clearInterval(this.interval),this.interval=null},zoomIn:function(){this.player.zoomrotate({zoom:2,rotate:0})},zoomOut:function(){this.player.zoomrotate({zoom:0,rotate:0})}}}),ot=rt,ct=(a("1686"),a("53a9")),ut=a.n(ct),lt=Object(h["a"])(ot,J,G,!1,null,"225d4e02",null);"function"===typeof ut.a&&ut()(lt);var mt=lt.exports,dt={components:{"video-player":mt},props:{stream:{type:Object,required:!0}},data:function(){return{cameras:{},cameraData:{},video:null,canvas:null,videoOptions:{autoplay:!0,controls:!1,responsive:!0,aspectRatio:"16:9",loop:!0,fill:!0,muted:!0,language:"en",playbackRates:[.5,1,1.5,2],sources:[]},plugins:{}}},beforeDestroy:function(){this.video=null},methods:{getVideoOptions:function(){return this.videoOptions.sources=[this.stream.sourceData],this.videoOptions}}},ft=dt,pt=(a("e588"),a("7e19")),vt=a.n(pt),gt=Object(h["a"])(ft,Y,V,!1,null,"8f130ff2",null);"function"===typeof vt.a&&vt()(gt);var ht=gt.exports,yt=a("70f2"),bt=a.n(yt),xt=a("b429"),wt={components:{"video-live-feed":ht},data:function(){return{streams:xt,dateTime:null,timer:null}},created:function(){this.startTime()},destroyed:function(){clearInterval(this.timer)},methods:{startTime:function(){this.dateTime=bt()(new Date,"hh:mm:ss"),this.timer=setTimeout(this.startTime,1e3)}}},Et=wt,It=(a("bd6f"),a("1aa8")),Tt=a.n(It),jt=Object(h["a"])(Et,q,U,!1,null,"75eef1e8",null);"function"===typeof Tt.a&&Tt()(jt);var Ct=jt.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"history-container",attrs:{"fill-height":"","pb-0":"","grid-list-lg":""}},[t.working?[t.working?a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("h3",{staticClass:"white--text"},[t._v("LOADING...")])]):t._e()]:[a("v-layout",{attrs:{column:"","align-center":""}},[a("v-flex",{staticStyle:{width:"90%"},attrs:{"mt-2":"",shrink:""}},[a("v-layout",{attrs:{"justify-center":"","align-center":""}},t._l(t.eventTypes,function(e,s){return a("v-flex",{key:s,staticClass:"app-card",attrs:{xs4:""},on:{click:function(a){return t.selectEventType(e)}}},[a("v-layout",{attrs:{column:"","align-center":""}},[a("p",{staticClass:"name text-xs-center"},[t._v(t._s(e.name.toUpperCase()))]),a("p",{staticClass:"percentage"},[t._v(t._s(Math.round(t.percentage(e.count))||0)+"%")]),a("p",{staticClass:"count"},[t._v(t._s(e.count))])])],1)}),1)],1),a("v-flex",{staticStyle:{width:"90%"},attrs:{shrink:""}},[a("v-layout",{class:t.$vuetify.breakpoint.lgAndUp?"justify-space-between":"justify-center",attrs:{wrap:"","mx-2":"","my-2":"","align-center":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-layout",{attrs:{"justify-start":""}},[a("h3",{staticClass:"sort-bar-text"},[t._v(t._s(t.selectedEvent.name.toUpperCase())+"S THIS WEEK  ("+t._s(t.eventTypes[t.selectedEvent.type].count)+")")])])],1),a("v-flex",{attrs:{xs7:""}},[a("v-layout",{attrs:{"justify-end":""}},[a("div",{staticClass:"select-container",staticStyle:{"margin-right":"10px"}},[a("span",{staticClass:"text"},[t._v("SHOW ONLY")]),a("select",{staticClass:"select",on:{change:function(e){return t.filterBy(e)}}},t._l(t.filterOptions,function(e){return a("option",{key:e},[t._v(t._s(e))])}),0)]),a("div",{staticClass:"select-container"},[a("span",{staticClass:"text"},[t._v("ARRANGE BY")]),a("select",{staticClass:"select",on:{change:function(e){return t.sortBy(e)}}},t._l(t.sortOptions,function(e){return a("option",{key:e},[t._v(t._s(e))])}),0)])])],1)],1)],1),a("v-flex",{staticStyle:{width:"90%",position:"relative","overflow-y":"auto",height:"100%"},attrs:{"pl-0":""}},[a(t.getComponent,{key:t.selectedEvent.type,tag:"component",staticStyle:{position:"absolute"},attrs:{data:t.eventTypes[t.selectedEvent.type]}})],1)],1)]],2)},kt=[],At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[0===t.data.events.length?a("v-layout",{attrs:{"justify-center":""}},[a("span",{staticStyle:{color:"white","font-family":"DIN Condensed","font-size":"30px"}},[t._v("\n        THERE ARE NO EVENTS FOR "+t._s(t.data.type.toUpperCase())+"S\n        ")])]):a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.data.events,function(e){return a("v-flex",{key:e.eventId,attrs:{xs12:""}},[a("v-card",{staticClass:"app-list-item",attrs:{flat:""}},[a("v-layout",{attrs:{"align-start":""}},[a("v-flex",{staticClass:"app-list-item-image-container",attrs:{xs2:""}},[a("v-img",{staticClass:"app-list-item-image",attrs:{contain:"","aspect-ratio":1,src:e.staticImageThumb}})],1),a("v-flex",{staticClass:"app-list-item-info-container",attrs:{xs10:""}},[a("v-card-text",[a("v-layout",{attrs:{row:"","pl-2":"","justify-space-between":""}},[a("p",{staticClass:"app-list-item-username"},[t._v(t._s(t.$auth.user.email))]),a("p",{staticClass:"app-list-item-date"},[t._v(t._s(t.getDate(e)))])])],1),a("v-card-text",{staticClass:"app-list-item-content"},[t._v(t._s(e.confirmationDescription))])],1)],1)],1)],1)}),1)],1)},St=[],Ot={props:{data:{type:Object,required:!0}},methods:{getDate:function(t){return bt()(new Date(t.timestamp._seconds),"MMM DD")}}},Dt=Ot,Nt=(a("a969"),Object(h["a"])(Dt,At,St,!1,null,"3b152e70",null)),$t=Nt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xs":""}},[0===t.data.events.length?a("v-layout",{attrs:{"justify-center":""}},[a("span",{staticStyle:{color:"white","font-family":"DIN Condensed","font-size":"30px"}},[t._v("\n        THERE ARE NO EVENTS FOR "+t._s(t.data.type.toUpperCase())+"S\n        ")])]):a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.data.events,function(e){return a("v-flex",{key:e.eventId,attrs:{xs6:"","d-flex":""}},[a("v-card",{staticClass:"app-list-item",attrs:{flat:""}},[a("v-layout",{attrs:{row:"","align-center":""}},[a("v-flex",{staticClass:"app-list-item-image-container",attrs:{xs4:""}},[a("v-img",{staticClass:"app-list-item-image",attrs:{contain:"","aspect-ratio":1,src:e.staticImageThumb}})],1),a("v-flex",{staticClass:"app-list-item-info-container",attrs:{xs8:""}},[a("v-layout",{attrs:{row:"",wrap:"","justify-space-between":""}},[a("v-flex",{attrs:{xs12:"","pb-0":""}},[a("v-layout",{attrs:{"justify-space-between":"","align-center":"","ma-2":""}},[a("span",[t._v(t._s(e.camName.toUpperCase()))]),a("span",[t._v(t._s(t.getTime(e)))])])],1),a("v-flex",{attrs:{xs12:"","pt-0":""}},[a("v-layout",{attrs:{"justify-space-between":"","align-center":"","ma-2":""}},[a("span",{staticClass:"app-list-item-username"},[t._v(t._s(t.$auth.user.email.toUpperCase()))]),a("span",{staticClass:"app-list-item-date"},[t._v(t._s(t.getDate(e)))])])],1)],1)],1)],1)],1)],1)}),1)],1)},Rt=[],Ft={props:{data:{type:Object,required:!0}},methods:{getDate:function(t){return bt()(new Date(t.timestamp._seconds),"MMM DD")},getTime:function(t){return bt()(new Date(t.timestamp._seconds),"HH:MM:SS")}}},Pt=Ft,Ht=(a("5f93"),Object(h["a"])(Pt,zt,Rt,!1,null,"48f89549",null)),Lt=Ht.exports;function Mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),s.forEach(function(e){Bt(t,e,a[e])})}return t}function Bt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Wt={data:function(){return{events:[],working:!0,eventTypes:{employee:{name:"Employee",type:"employee",count:0,events:[]},"non-employee":{name:"Non-Employee",type:"non-employee",count:0,events:[]},contractor:{name:"Contractor",type:"contractor",count:0,events:[]},coyote:{name:"Coyote",type:"coyote",count:0,events:[]},"false-alarm":{name:"False Alarm",type:"false-alarm",count:0,events:[]}},selectedEvent:{name:"Coyote",type:"coyote",count:0},filterOptions:["This Week","Today","Last Week","All"],sortOptions:["Recent","User","Camera","All"]}},mounted:function(){var t=this;this.$events.getAllClassifiedEvents().then(function(e){t.events=e.data,t.events.forEach(function(e){var a=e.classifiedAs;t.eventTypes[a]=Mt({},t.eventTypes[a],{count:t.eventTypes[a].count?t.eventTypes[a].count+=1:1}),t.eventTypes[a].events.push(e)}),t.working=!1})},methods:{percentage:function(t){return 100*t/this.events.length},filterBy:function(t){console.log(t.target.value)},sortBy:function(t){console.log(t.target.value)},selectEventType:function(t){this.selectedEvent=t}},computed:{getComponent:function(){return"false-alarm"===this.selectedEvent.type?$t:Lt}}},Zt=Wt,qt=(a("c61c"),Object(h["a"])(Zt,_t,kt,!1,null,"7be9097d",null)),Ut=qt.exports,Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-flex",{staticClass:"container-form",attrs:{xs6:"","px-5":""}},[a("v-layout",{class:t.$vuetify.breakpoint.smAndUp?"justify-start":"justify-center",attrs:{row:"",wrap:"","align-center":"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("div",{staticClass:"red-border"},[a("span",{staticClass:"welcome"},[t._v("WELCOME")])])])],1),a("v-flex",{attrs:{sm10:"","offset-xs1":""}},[a("v-card",{attrs:{flat:"",color:"secondaryDark"}},[a("v-card-text",{staticClass:"py-0"},[a("v-form",{staticClass:"app-form"},[a("span",{staticClass:"app-form-label"},[t._v("COMPANY EMAIL ADDRESS")]),a("v-text-field",{attrs:{"background-color":"#FFF",height:"40px",name:"employeeEmail",placeholder:"admin@email.com",type:"text"},model:{value:t.employeeEmail,callback:function(e){t.employeeEmail=e},expression:"employeeEmail"}}),a("span",{staticClass:"app-form-label"},[t._v("PASSWORD")]),a("v-text-field",{attrs:{"background-color":"#FFF",height:"40px",name:"password",placeholder:"password",type:"password"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-card-actions",{staticClass:"px-3 text-xs-center"},[a("v-layout",{attrs:{wrap:"","align-center":"","justify-space-between":""}},[a("v-checkbox",{attrs:{dark:"",color:"accent"},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticStyle:{color:"#FFF","font-family":"'DIN Condensed","letter-spacing":"2px"}},[t._v(" REMEMBER ME ")])]},proxy:!0}]),model:{value:t.remember,callback:function(e){t.remember=e},expression:"remember"}}),a("v-btn",{attrs:{loading:t.$auth.status.loggingIn,color:"accent"},on:{click:function(e){return t.login()}}},[t._v("Sign In")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{"justify-center":""}},[a("router-link",{staticClass:"password-reset",attrs:{to:"",flat:""}},[t._v("FORGOT YOUR PASSWORD?")])],1)],1)],1)],1),a("v-flex",{staticClass:"container-image",attrs:{xs6:"","ml-0":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"","fill-height":""}},[a("v-img",{attrs:{"max-width":"55%",src:"/assets/images/wiley_logo_xl.png"}})],1)],1)],1)},Vt=[],Jt={data:function(){return{employeeEmail:"",password:"",remember:!1}},methods:{login:function(){var t=this;this.$auth.login(this.employeeEmail,this.password).then(function(e){500!==e.status?t.$router.replace("/overview"):t.$notifyError("Invalid email and/or password")})}}},Gt=Jt,Kt=(a("bff1"),a("9796")),Qt=a.n(Kt),Xt=Object(h["a"])(Gt,Yt,Vt,!1,null,null,null);"function"===typeof Qt.a&&Qt()(Xt);var te=Xt.exports,ee=a("2f62"),ae=a("bfa9");function se(t){Object.assign(this,se.template,t)}Object.defineProperty(se,"template",{get:function(){return{id:"",status:"",type:"",detectedObject:"",probability:"",startTime:"",endTime:"",duration:"",cameraId:null,camNumber:null,camName:"",name:"",sourceData:{src:"",type:""}}}});var ne=se;function ie(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),s.forEach(function(e){re(t,e,a[e])})}return t}function re(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var oe={namespaced:!0,state:{alertData:ie({},new ne),active:!1,showHeader:!1},getters:{alert:function(t){return t}},mutations:{createAlert:function(t,e){t.alertData=e.alertData,t.active=!0},clearAlert:function(t){t.alertData=new ne,t.active=!1},showAlertHeader:function(t){t.showHeader=!0},hideAlertHeader:function(t){t.showHeader=!1}},actions:{createAlert:function(t,e){var a=t.commit;a("createAlert",e),a("showAlertHeader")},clearAlert:function(t){var e=t.commit;e("clearAlert"),e("hideAlertHeader")},showAlertHeader:function(t){var e=t.commit;e("showAlertHeader")},hideAlertHeader:function(t){var e=t.commit;e("hideAlertHeader")}}},ce=a("bc3a"),ue=a.n(ce),le=ue.a.create();le.token=window.localStorage.getItem("token")||null,le.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},le.login=function(t,e){var a=this;return this.post("/login",{employeeEmail:t,password:e}).then(function(t){var e=t.data;return e.data.token&&(window.localStorage.setItem("user",JSON.stringify(e.data)),window.localStorage.setItem("token",e.data.token),a.tokenInterceptor=a.interceptors.request.use(function(t){return t.headers["Authorization"]="Bearer "+e.data.token,t})),t.data}).catch(function(t){return t})},le.logout=function(){this.token=null,this.interceptors.request.eject(this.tokenInterceptor),window.localStorage.removeItem("token"),window.localStorage.removeItem("user")};var me=le,de=a("59ca"),fe=a.n(de);a("ea7b");me.new("/api");var pe=JSON.parse(localStorage.getItem("user")),ve=pe?{status:{loggedIn:!0},user:pe}:{status:{},user:null},ge={namespaced:!0,state:ve,getters:{user:function(t){return t}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}},actions:{login:function(t,e){var a=t.commit,s=e.employeeEmail,n=e.password;return a("loginRequest",{employeeEmail:s,password:n}),fe.a.auth().signInWithEmailAndPassword(s,n).then(function(t){var e={email:t.user.email,verified:t.user.emailVerified,id:t.user.uid};return window.localStorage.setItem("token",e.id),a("loginSuccess",e),e}).catch(function(t){return a("loginFailure",t),{e:t,status:500}})},logout:function(t){var e=t.commit;fe.a.auth().signOut(),window.localStorage.clear(),e("logout")}}};function he(t,e,a,s,n,i,r){try{var o=t[i](r),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(s,n)}function ye(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var i=t.apply(e,a);function r(t){he(i,s,n,r,o,"next",t)}function o(t){he(i,s,n,r,o,"throw",t)}r(void 0)})}}var be=ue.a.create();be.token=window.localStorage.getItem("token")||null,be.new=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";this.defaults.baseURL=e,this.token&&(this.tokenInterceptor=this.interceptors.request.use(function(e){return e.headers["Authorization"]="Bearer "+t.token,e}))},be.createEvent=function(){var t=ye(m.a.mark(function t(e){var a;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post("/create_event",{event:e});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),be.updateEvent=function(){var t=ye(m.a.mark(function t(e){var a;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post("/update_event",{event:e});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),be.getAllEvents=ye(m.a.mark(function t(){var e;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.get("/get_all_events");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),be.getAllClassifiedEvents=ye(m.a.mark(function t(){var e;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.get("/get_all_classified_events");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])})),be.addNewEvents=function(){var t=ye(m.a.mark(function t(e){var a;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post("/add_new_events",{events:e});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),be.deleteEvents=function(){var t=ye(m.a.mark(function t(e){var a;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.post("/delete_events",{events:e});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:return t.prev=7,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}();var xe=be;function we(t){return Te(t)||Ie(t)||Ee()}function Ee(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ie(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Te(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}xe.new("/api");var je={namespaced:!0,state:{history:[],events:[]},getters:{history:function(t){return t}},mutations:{createEvent:function(t,e){t.history.push(e.event)},setEvents:function(t,e){t.events=e.events},addEvents:function(t,e){t.events=[].concat(we(t.events),we(e.events))},deleteEvents:function(t){t.events=[]}},actions:{createEvent:function(t,e){var a=t.commit;return a("createEvent",e),xe.createEvent(e.event).then(function(t){return t})},updateEvent:function(t,e){t.commit;return xe.updateEvent(e.event).then(function(t){return t})},getAllEvents:function(){return xe.getAllEvents().then(function(t){return t})},getAllClassifiedEvents:function(){return xe.getAllClassifiedEvents().then(function(t){return t})},setEvents:function(t,e){var a=t.commit;a("setEvents",e)},deleteEvents:function(t,e){return t.commit("deleteEvents"),xe.deleteEvents().then(function(){return t.dispatch("addNewEvents",e).then(function(t){return t})})},addNewEvents:function(t,e){t.commit;return xe.addNewEvents(e.events).then(function(t){return t})}}};s["default"].use(ee["a"]);var Ce=new ee["a"].Store({plugins:[new ae["a"]({storage:window.localStorage,modules:["authentication","cameraAlert","eventHistory"]}).plugin],modules:{authentication:ge,cameraAlert:oe,eventHistory:je}});function _e(t,e,a,s,n,i,r){try{var o=t[i](r),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(s,n)}function ke(t){return function(){var e=this,a=arguments;return new Promise(function(s,n){var i=t.apply(e,a);function r(t){_e(i,s,n,r,o,"next",t)}function o(t){_e(i,s,n,r,o,"throw",t)}r(void 0)})}}s["default"].use(E["a"]);var Ae=new E["a"]({mode:"history",base:"/",routes:[{path:"/sign_in",name:"signIn",component:te},{path:"/overview",name:"overview",component:Ct,meta:{requiresAuth:!0}},{path:"/training",name:"training",component:Z,meta:{requiresAuth:!0}},{path:"/history",name:"history",component:Ut,meta:{requiresAuth:!0}},{path:"*",redirect:"/overview"}]});Ae.beforeEach(function(){var t=ke(m.a.mark(function t(e,a,s){var n,i;return m.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.redirectedFrom||!e.redirectedFrom.includes("clear")){t.next=17;break}return n=d.events,t.prev=2,t.next=5,Ce.dispatch("eventHistory/deleteEvents",{events:n});case 5:return t.next=7,Ce.dispatch("eventHistory/getAllEvents");case 7:return i=t.sent,t.next=10,Ce.dispatch("eventHistory/setEvents",{events:i.data});case 10:s("/training"),t.next=16;break;case 13:throw t.prev=13,t.t0=t["catch"](2),new Error(t.t0);case 16:return t.abrupt("return");case 17:e.matched.some(function(t){return t.meta.requiresAuth})?o.a.auth().onAuthStateChanged(function(t){t?s():s("/sign_in")}):s();case 18:case"end":return t.stop()}},t,null,[[2,13]])}));return function(e,a,s){return t.apply(this,arguments)}}());var Se={install:function(t){t.mixin({computed:{$auth:function(){var t=Ce.getters["authentication/user"];return t.login=function(t,e){return Ce.dispatch("authentication/login",{employeeEmail:t,password:e})},t.logout=function(){return Ce.dispatch("authentication/logout")},t}}})}},Oe=a("ee98"),De=a.n(Oe),Ne=a("589d"),$e=a.n(Ne),ze={install:function(t){var e="app-notifications",a="classification-notifications";t.use(De.a,{velocity:$e.a}),t.mixin({methods:{$notifyError:function(t){this.$notify({group:e,text:t,type:"error"})},$notifyInfo:function(t){this.$notify({group:e,text:t,type:"info"})},$notifySuccess:function(t){this.$notify({group:e,text:t,type:"success"})},$notifyWarn:function(t){this.$notify({group:e,text:t,type:"warning"})},$notifyClassification:function(t){this.$notify({group:a,text:t,type:"accent"})}}})}},Re={install:function(t){t.mixin({computed:{$cameraAlert:function(){var t=Ce.getters["cameraAlert/alert"];return t.createAlert=function(t){return Ce.dispatch("cameraAlert/createAlert",{alertData:t})},t.clearAlert=function(){return Ce.dispatch("cameraAlert/clearAlert")},t.showAlertHeader=function(){return Ce.dispatch("cameraAlert/showAlertHeader")},t.hideAlertHeader=function(){return Ce.dispatch("cameraAlert/hideAlertHeader")},t}}})}},Fe={install:function(t){t.mixin({computed:{$events:function(){var t=Ce.getters["eventHistory/history"];return t.createEvent=function(t){return Ce.dispatch("eventHistory/createEvent",{event:t})},t.setEvents=function(t){return Ce.dispatch("eventHistory/setEvents",{events:t})},t.addNewEvents=function(t){return Ce.dispatch("eventHistory/addNewEvents",{events:t})},t.updateEvent=function(t){return Ce.dispatch("eventHistory/updateEvent",{event:t})},t.getAllEvents=function(){return Ce.dispatch("eventHistory/getAllEvents",{})},t.getAllClassifiedEvents=function(){return Ce.dispatch("eventHistory/getAllClassifiedEvents",{})},t.listenForEventsChanges=function(){return Ce.dispatch("eventHistory/listenForEventsChanges",{})},t}}})}};a("fda2"),a("7e6a");o.a.initializeApp({apiKey:"AIzaSyC14MMLeymY_W_9a-Qoc8bYQji55tUm0Ak",authDomain:"wiley-app.firebaseapp.com",databaseURL:"https://wiley-app.firebaseio.com",projectId:"wiley-app",storageBucket:"wiley-app.appspot.com",messagingSenderId:"918656739220",appId:"1:918656739220:web:46326f33d145a55f"}),s["default"].config.productionTip=!1,s["default"].use(Se),s["default"].use(Re),s["default"].use(Fe),s["default"].use(ze),new s["default"]({router:Ae,store:Ce,render:function(t){return t(w)}}).$mount("#app")},5906:function(t,e,a){"use strict";var s=a("1e7d"),n=a.n(s);n.a},"5f93":function(t,e,a){"use strict";var s=a("7f4f"),n=a.n(s);n.a},"61db":function(t,e){},6876:function(t,e){},"6dbb":function(t,e,a){},"7e19":function(t,e){},"7e1c":function(t,e,a){"use strict";var s=a("eed6"),n=a.n(s);n.a},"7e6a":function(t,e,a){},"7f4f":function(t,e,a){},"89b3":function(t){t.exports={events:[{id:"02",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"82%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e1.jpg",staticImageZoomed:"/assets/images/demo-images/e1-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e1-thumb.jpg",boundary:{x:480,y:280,width:50,height:75}},{id:"03",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"94%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e2.jpg",staticImageZoomed:"/assets/images/demo-images/e2-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e2-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"04",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"91%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e3.jpg",staticImageZoomed:"/assets/images/demo-images/e3-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e3-thumb.jpg",boundary:{x:220,y:160,width:100,height:75}},{id:"05",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"97%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e4.jpg",staticImageZoomed:"/assets/images/demo-images/e4-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e4-thumb.jpg",boundary:{x:280,y:180,width:100,height:75}},{id:"06",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"94%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e5.jpg",staticImageZoomed:"/assets/images/demo-images/e5-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e5-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"07",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"90%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e6.jpg",staticImageZoomed:"/assets/images/demo-images/e6-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e6-thumb.jpg",boundary:{x:220,y:160,width:100,height:75}},{id:"08",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"87%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e7.jpg",staticImageZoomed:"/assets/images/demo-images/e7-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e7-thumb.jpg",boundary:{x:280,y:180,width:100,height:75}},{id:"09",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"99%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/e8.jpg",staticImageZoomed:"/assets/images/demo-images/e8-zoom.jpg",staticImageThumb:"/assets/images/thumbs/e8-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"10",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"88%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p1.jpg",staticImageZoomed:"/assets/images/demo-images/p1-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p1-thumb.jpg",boundary:{x:220,y:160,width:100,height:75}},{id:"11",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"87%",startTime:"159",endTime:"200",duration:"41",camId:100,camNumber:1,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p2.jpg",staticImageZoomed:"/assets/images/demo-images/p2-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p2-thumb.jpg",boundary:{x:280,y:180,width:100,height:75}},{id:"12",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"99%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p3.jpg",staticImageZoomed:"/assets/images/demo-images/p3-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p3-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"13",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"78%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p4.jpg",staticImageZoomed:"/assets/images/demo-images/p4-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p4-thumb.jpg",boundary:{x:220,y:160,width:100,height:75}},{id:"14",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"person",probability:"83%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p5.jpg",staticImageZoomed:"/assets/images/demo-images/p5-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p5-thumb.jpg",boundary:{x:280,y:180,width:100,height:75}},{id:"15",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"80%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p6.jpg",staticImageZoomed:"/assets/images/demo-images/p6-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p6-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"16",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"77%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p7.jpg",staticImageZoomed:"/assets/images/demo-images/p7-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p7-thumb.jpg",boundary:{x:220,y:160,width:100,height:75}},{id:"17",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"68%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/p8.jpg",staticImageZoomed:"/assets/images/demo-images/p8-zoom.jpg",staticImageThumb:"/assets/images/thumbs/p8-thumb.jpg",boundary:{x:280,y:180,width:100,height:75}},{id:"18",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/c1.jpg",staticImageZoomed:"/assets/images/demo-images/c1-zoom.jpg",staticImageThumb:"/assets/images/thumbs/c1-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"19",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/c2.jpg",staticImageZoomed:"/assets/images/demo-images/c2-zoom.jpg",staticImageThumb:"/assets/images/thumbs/c2-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"20",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/c3.jpg",staticImageZoomed:"/assets/images/demo-images/c3-zoom.jpg",staticImageThumb:"/assets/images/thumbs/c3-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"21",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/c4.jpg",staticImageZoomed:"/assets/images/demo-images/c4-zoom.jpg",staticImageThumb:"/assets/images/thumbs/c4-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"22",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/c5.jpg",staticImageZoomed:"/assets/images/demo-images/c5-zoom.jpg",staticImageThumb:"/assets/images/thumbs/c5-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"23",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/f1.jpg",staticImageZoomed:"/assets/images/demo-images/f1-zoom.jpg",staticImageThumb:"/assets/images/thumbs/f1-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"24",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-EAST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/f2.jpg",staticImageZoomed:"/assets/images/demo-images/f2-zoom.jpg",staticImageThumb:"/assets/images/thumbs/f2-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}},{id:"25",eventId:"",status:"active",classifiedAs:"",classificationDescription:"",classified:!1,detectedObject:"coyote",probability:"100%",startTime:"159",endTime:"200",duration:"41",camId:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"",type:""},staticImage:"/assets/images/demo-images/f3.jpg",staticImageZoomed:"/assets/images/demo-images/f3-zoom.jpg",staticImageThumb:"/assets/images/thumbs/f3-thumb.jpg",boundary:{x:340,y:200,width:30,height:75}}]}},"8b08":function(t,e,a){},9796:function(t,e){},"97ba":function(t,e,a){},a4f9:function(t,e){},a969:function(t,e,a){"use strict";var s=a("e477"),n=a.n(s);n.a},b429:function(t){t.exports=[{id:100,camNumber:1,camName:"Rail-EAST",sourceData:{src:"/assets/video/sample_rail_east.mp4",src2:"https://app.coverr.co/s3/mp4/Deserted%20Island.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_raileast.jpg"},{id:200,camNumber:2,camName:"Rail-WEST",sourceData:{src:"/assets/video/sample_rail_west.mp4",type:"video/mp4"},staticImage:"/assets/images/ref_railwest.jpg"}]},bd6f:function(t,e,a){"use strict";var s=a("8b08"),n=a.n(s);n.a},bff1:function(t,e,a){"use strict";var s=a("6dbb"),n=a.n(s);n.a},c61c:function(t,e,a){"use strict";var s=a("044f"),n=a.n(s);n.a},c6bf:function(t,e,a){},e477:function(t,e,a){},e588:function(t,e,a){"use strict";var s=a("4cf6"),n=a.n(s);n.a},eed6:function(t,e,a){}});
//# sourceMappingURL=app.a9291ec1.js.map